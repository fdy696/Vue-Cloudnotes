{"version":3,"sources":["webpack:///src/components/Avatar.vue","webpack:///./src/components/Avatar.vue?2794","webpack:///./src/components/Avatar.vue","webpack:///./src/apis/auth.js","webpack:///src/components/Sidebar.vue","webpack:///./src/components/Sidebar.vue?ba0b","webpack:///./src/components/Sidebar.vue","webpack:///src/App.vue","webpack:///./src/App.vue?7e20","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/apis/notebooks.js","webpack:///./src/store/modules/notebook.js","webpack:///./src/apis/notes.js","webpack:///./src/store/modules/note.js","webpack:///./src/store/modules/user.js","webpack:///./src/store/modules/trash.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/helper/request.js","webpack:///./src/apis/trash.js","webpack:///./src/utils/friendlyTime.js"],"names":["Avatar","data","created","this","checkoutLogin","computed","extends_default","Object","vuex_esm","methods","components","components_Avatar","render","_h","$createElement","_c","_self","staticClass","_v","_s","sulg","staticRenderFns","src_components_Avatar","__webpack_require__","normalizeComponent","ssrContext","URL","auth","_ref","username","password","request","_ref2","Sidebar","logout","_this","then","res","$router","push","avatar","components_Sidebar","attrs","id","to","title","on","click","App","name","sidebar","Sidebar_normalizeComponent","selectortype_template_index_0_src_App","src_App","App_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","alias","component","e","bind","notebooks_URL","GET","ADD","UPDATE","DELETE","notebooks","promise_default","a","resolve","reject","sort","notebook1","notebook2","createdAt","forEach","item","friendlyTime","notebookId","_ref$title","undefined","replace","_ref2$title","arguments","length","noteCounts","notebook","state","curBookId","getters","curBook","find","mutations","setNotebooks","addNotebook","console","log","unshift","deleteNotebook","_ref3","filter","updateNotebook","_ref4","setCurBookId","_ref5","actions","getNotebooks","_ref6","commit","_ref7","_ref8","_ref9","_ref10","element_ui_common","success","msg","catch","warning","_ref11","_ref12","notes_URL","notes","getAll","note1","note2","updateFriendlyTime","updatedAt","updateNote","noteId","content","addNote","_ref4$title","_ref4$content","deleteNote","window","Note","note","curNoteId","curNote","Array","isArray","setNotes","setCurNoteId","curnoteId","addNotes","getNotes","_ref13","value","user","charAt","setUser","payload","isLogin","loginUser","registerUser","modules_trash","trashNotes","trashNoteId","curTrashNote","setTrashNotes","deleteTrashNote","shift","revertNote","setTrashNoteId","getTrashNotes","trash","error","revertTrashNote","store","Store","modules","element_ui_common_default","config","productionTip","el","template","url","type","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","option","method","validateStatus","status","toLowerCase","params","__WEBPACK_IMPORTED_MODULE_1_axios___default","err","defaults","baseURL","headers","post","withCredentials","REVERT","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_1__helper_request__","createdFriendlyTime","__WEBPACK_IMPORTED_MODULE_2__utils_friendlyTime__","dateStr","dateObj","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_typeof___default","dataStr","Date","space","now","getTime","str","Math","floor"],"mappings":"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","file":"static/js/app.a6bfcc6b75f71d5c30a5.js","sourcesContent":["<template>\r\n <div class=\"avator\">\r\n   <h2>{{sulg}}</h2>\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapGetters,mapActions} from 'vuex'\r\n\r\n export default {\r\n   data () {\r\n     return {\r\n\r\n     }\r\n   },\r\n   created(){\r\n     this.checkoutLogin()\r\n   },\r\n   computed : {\r\n     ...mapGetters(['sulg'])\r\n   },\r\n   methods: {\r\n     ...mapActions(['checkoutLogin'])\r\n   },\r\n   components: {\r\n\r\n   }\r\n }\r\n</script>\r\n\r\n<style lang='less' scoped>\r\n  .avator {\r\n    width: 33px;\r\n    height: 33px;\r\n    text-align: center;\r\n    line-height: 33px;\r\n    border-radius: 50%;\r\n    background: #F2B81C;\r\n    z-index: 8;\r\n    margin: 0 auto;\r\n    margin-bottom: 15px;\r\n    h2 {\r\n      font-weight: 700px;\r\n      color: #fff;\r\n      font-size: 16px;\r\n      text-transform: uppercase;\r\n    }\r\n  }\r\n\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Avatar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"avator\"},[_c('h2',[_vm._v(_vm._s(_vm.sulg))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7fccdf06\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Avatar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7fccdf06\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Avatar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Avatar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Avatar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7fccdf06\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Avatar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7fccdf06\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Avatar.vue\n// module id = null\n// module chunks = ","import request from '@/helper/request'\r\n\r\nconst URL = {\r\n  REGISTER:'/auth/register',\r\n  LOGIN: '/auth/login',\r\n  LOGOUT: '/auth/logout',\r\n  GET_INFO: '/auth'\r\n}\r\n\r\nexport default {\r\n  register({username,password}) {\r\n    return request(URL.REGISTER,'POST',{username,password})\r\n  },\r\n  login({username,password}) {\r\n    return request(URL.LOGIN,'POST',{username,password})\r\n  },\r\n  logout() {\r\n    return request(URL.LOGOUT)\r\n  },\r\n  getInfo(){\r\n    return request(URL.GET_INFO)\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/apis/auth.js","<template>\r\n<div id=\"sidebar\" class='sidebar'>\r\n  <avatar></avatar>\r\n  <div class=\"icons\">\r\n      <router-link to='/notes' title='笔记' ><i class=\"iconfont icon-note\"></i></router-link>\r\n      <router-link to='/notebooks' title='笔记本' class='active'><i class=\"iconfont icon-notebook\"></i></router-link>\r\n      <router-link to='/trash' title='回收站'><i class=\"iconfont icon-trash\"></i></router-link>\r\n  </div>\r\n  <div class=\"logout\">\r\n     <i class=\"iconfont icon-logout\" @click=\"logout\"></i>\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport avatar from '@/components/Avatar'\r\nimport Auth from '@/apis/auth'\r\n export default {\r\n   data () {\r\n     return {\r\n\r\n     }\r\n   },\r\n   methods: {\r\n     logout(){\r\n       Auth.logout().then(res=>{\r\n        this.$router.push('/login')\r\n       })\r\n     }\r\n   },\r\n   components: {\r\n     avatar\r\n   }\r\n }\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.sidebar {\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    width: 55px;\r\n    height: 100%;\r\n    background: #2c333c;\r\n    z-index: 0;\r\n    padding: 18px 0;\r\n    .iconfont {color: #fff;\r\n    &:hover {color:#36bc64}}\r\n    a {\r\n      display: block;\r\n      width: 55px;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      text-align: center;\r\n      &:hover .iconfont{color: #36bc64}\r\n    }\r\n    .router-link-active {\r\n      background-color: #5e6266;\r\n    }\r\n    .logout {\r\n      position: absolute;\r\n      width: 55px;\r\n      bottom: 40px;\r\n      text-align: center;\r\n      cursor: pointer;\r\n    }\r\n\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Sidebar.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"sidebar\",attrs:{\"id\":\"sidebar\"}},[_c('avatar'),_vm._v(\" \"),_c('div',{staticClass:\"icons\"},[_c('router-link',{attrs:{\"to\":\"/notes\",\"title\":\"笔记\"}},[_c('i',{staticClass:\"iconfont icon-note\"})]),_vm._v(\" \"),_c('router-link',{staticClass:\"active\",attrs:{\"to\":\"/notebooks\",\"title\":\"笔记本\"}},[_c('i',{staticClass:\"iconfont icon-notebook\"})]),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/trash\",\"title\":\"回收站\"}},[_c('i',{staticClass:\"iconfont icon-trash\"})])],1),_vm._v(\" \"),_c('div',{staticClass:\"logout\"},[_c('i',{staticClass:\"iconfont icon-logout\",on:{\"click\":_vm.logout}})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b41fa216\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Sidebar.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b41fa216\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Sidebar.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sidebar.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Sidebar.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b41fa216\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Sidebar.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-b41fa216\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Sidebar.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <sidebar></sidebar>\n    <router-view/>\n  </div>\n</template>\n\n<script>\nimport sidebar from '@/components/Sidebar'\nexport default {\n  name: 'App',\n  components: {\n  sidebar\n  }\n}\n\n</script>\n\n<style>\n@import '//at.alicdn.com/t/font_496303_kqrjhri8l25d0a4i.css';\nhtml, body, #app {\n  height: 100%;\n}\n#app {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  background: #eee;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('sidebar'),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b15a5746\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-b15a5746\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b15a5746\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n   {\n      path: '/login',\n      alias: '/',\n      name: 'Login',\n      component: () => import('@/components/Login.vue')\n    }, {\n      path: '/notebooks',\n      name: 'Notebooks',\n      component: () => import('@/components/Notebooks.vue')\n    }, {\n      path: '/notes',\n      name: 'NoteDetail',\n      component: () => import('@/components/Notes.vue')\n    }, {\n      path: '/trash',\n      name: 'Trash',\n      component: () => import('@/components/Trash.vue')\n    },\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import request from '@/helper/request';\r\nimport {friendlyTime} from '@/utils/friendlyTime'\r\n\r\nconst URL=  {\r\n  GET: '/notebooks',\r\n  ADD: '/notebooks',\r\n  UPDATE: '/notebooks/:notebookId',\r\n  DELETE: '/notebooks/:notebookId'\r\n}\r\n\r\nexport default {\r\n  getAll(){\r\n    return new Promise((resolve,reject)=>{\r\n      request(URL.GET).then(\r\n        res=>{\r\n          res.data = res.data.sort((notebook1,notebook2)=>\r\n           notebook1.createdAt<notebook2.createdAt);\r\n          res.data.forEach(item=>{\r\n            item.friendlyTime = friendlyTime(item.createdAt)\r\n          })\r\n          resolve(res)\r\n       }\r\n      )\r\n    })\r\n  },\r\n  updateNotebook(notebookId,{title=\" \"}){\r\n    return request(URL.UPDATE.replace(':notebookId',notebookId),'PATCH',{title})\r\n  },\r\n  addNotebook({title=\"\"}={title:\"\"}){\r\n    return new Promise((resolve,reject)=>{\r\n      request(URL.ADD,'POST',{title}).then(res=>{\r\n        res.data.friendlyTime = '刚刚'\r\n        res.data.noteCounts = 0\r\n        resolve(res)\r\n      })\r\n    })\r\n  },\r\n  deleteNotebook(notebookId){\r\n    return request(URL.DELETE.replace(':notebookId',notebookId),'DELETE')\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/apis/notebooks.js","import Notebook from '@/apis/notebooks'\r\nimport {Message} from 'element-ui'\r\n\r\nconst state = {\r\n  notebooks:  [],\r\n  curBookId: null,\r\n}\r\nconst getters = {\r\n  notebooks: state=>state.notebooks,\r\n  curBook: state=> {\r\n    if(!state.curBookId) return state.notebooks[0] || {};\r\n    return state.notebooks.find(notebook=>notebook.id==state.curBookId);\r\n  }\r\n}\r\nconst mutations = {\r\n  setNotebooks(state,{notebooks}){\r\n    state.notebooks = notebooks\r\n  },\r\n  addNotebook(state,{notebook}){\r\n    console.log(notebook);\r\n    state.notebooks.unshift(notebook)\r\n  },\r\n  deleteNotebook(state,{notebookId}){\r\n    state.notebooks = state.notebooks.filter(notebook=>notebook.id !==notebookId)\r\n  },\r\n  updateNotebook(state,{notebookId,title}){\r\n    // 浅拷贝\r\n    let notebook = state.notebooks.find(notebook=>notebook.id===notebookId);\r\n    notebook.title = title;\r\n  },\r\n  setCurBookId(state,{notebookId}) {\r\n    state.curBookId = notebookId\r\n  }\r\n}\r\nconst actions = {\r\n  getNotebooks({commit}){\r\n    return Notebook.getAll().then(res=>{\r\n      commit('setNotebooks',{notebooks:res.data});\r\n    })\r\n  },\r\n  addNotebook({commit},{title}){\r\n    return Notebook.addNotebook({title}).then(res=>{\r\n      commit('addNotebook',{notebook:res.data})\r\n    })\r\n  },\r\n  deleteNotebook({commit},{notebookId}){\r\n    return Notebook.deleteNotebook(notebookId).then(res=>{\r\n      commit('deleteNotebook',{notebookId})\r\n      Message.success(res.msg)\r\n    }).catch(res=>{\r\n      Message.warning(res.msg)\r\n    })\r\n  },\r\n  updateNotebook({commit},{notebookId,title}){\r\n    return Notebook.updateNotebook(notebookId,{title}).then(res=>{\r\n      commit('updateNotebook',{notebookId,title})\r\n    })\r\n  }\r\n\r\n}\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/notebook.js","import request from '@/helper/request';\r\nimport {friendlyTime} from '@/utils/friendlyTime'\r\n\r\nconst URL=  {\r\n  GET: '/notes/from/:notebookId',\r\n  ADD: '/notes/to/:notebookId',\r\n  UPDATE: '/notes/:noteId',\r\n  DELETE: '/notes/:noteId'\r\n}\r\n\r\nexport default {\r\n  getAll({notebookId}){\r\n    return new Promise((resolve,reject)=>{\r\n      request(URL.GET.replace(':notebookId',notebookId)).then(\r\n        res=>{\r\n          res.data = res.data.sort((note1,note2)=>\r\n           note1.createdAt<note2.createdAt);\r\n          res.data.forEach(item=>{\r\n            item.friendlyTime = friendlyTime(item.createdAt)\r\n            item.updateFriendlyTime = friendlyTime(item.updatedAt)\r\n          })\r\n          resolve(res)\r\n       }\r\n      )\r\n    })\r\n  },\r\n  updateNote({noteId,title,content}){\r\n      return request(URL.UPDATE.replace(':noteId',noteId),'PATCH',{title,content})\r\n  },\r\n  addNote({notebookId},{title=\"\",content=\"\"}){\r\n    return request(URL.ADD.replace(':notebookId',notebookId),'POST',{title,content})\r\n  },\r\n  deleteNote({noteId}){\r\n    return request(URL.DELETE.replace(':noteId',noteId),'DELETE')\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/apis/notes.js","import Note from '@/apis/notes'\r\nimport {Message} from 'element-ui'\r\nwindow.Note = Note;\r\nconst state = {\r\n  notes: null,\r\n  curNoteId:null\r\n}\r\nconst getters = {\r\n  notes: state=>state.notes || [],\r\n  curNote: state=> {\r\n    if(!Array.isArray(state.notes)) return {};\r\n    // 假如没有传递参数，就获取第一个笔记\r\n    if(!state.curNoteId) return state.notes[0] || {};\r\n    return state.notes.find(note=>note.id==state.curNoteId) || {};\r\n  }\r\n}\r\nconst mutations = {\r\n  setNotes(state,{notes}){\r\n    state.notes = notes\r\n  },\r\n  setCurNoteId(state, { curnoteId }) {\r\n    state.curNoteId = curnoteId;\r\n  },\r\n  addNotes(state,{note}){\r\n    note.friendlyTime = '刚刚',\r\n    note.updateFriendlyTime = '刚刚'\r\n    state.notes.unshift(note)\r\n  },\r\n  deleteNote(state,{noteId}){\r\n    state.notes = state.notes.filter(note=>note.id !==noteId) || {}\r\n  },\r\n  updateNote(state,{noteId,title,content}){\r\n    // 浅拷贝\r\n    let note = state.notes.find(note=>note.id===noteId);\r\n    note.title = title;\r\n    note.content = content;\r\n  },\r\n\r\n}\r\nconst actions = {\r\n  getNotes({commit},{notebookId}){\r\n    return Note.getAll({notebookId}).then(res=>{\r\n      commit('setNotes',{notes:res.data});\r\n\r\n    })\r\n  },\r\n  addNote({commit},{notebookId,title,content}){\r\n    return new Promise((resolve,reject)=>{\r\n      Note.addNote({notebookId},{title,content}).then(res=>{\r\n        commit('addNotes',{note:res.data})\r\n        Message.success('请在此处添加笔记内容')\r\n        resolve(res.data)\r\n      })\r\n    })\r\n  },\r\n  deleteNote({commit},{noteId}){\r\n    return Note.deleteNote({noteId}).then(res=>{\r\n      commit('deleteNote',{noteId})\r\n      Message.success(res.msg)\r\n    }).catch(res=>{\r\n      Message.warning(res.msg)\r\n    })\r\n  },\r\n  updateNote({commit},{noteId,title,content}){\r\n    return Note.updateNote({noteId,title,content}).then(res=>{\r\n      commit('updateNote',{noteId,title,value})\r\n    }).catch(()=>{})\r\n  }\r\n\r\n}\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/note.js","import Auth from '@/apis/auth';\r\nimport route from '@/router'\r\n\r\nconst state = {\r\n  user:null\r\n}\r\nconst getters = {\r\n  username: state=> state.user?state.user.username:\"未登录\",\r\n  sulg: state=> state.user?state.user.username.charAt(0):'未'\r\n}\r\nconst mutations = {\r\n  setUser(state,payload){\r\n    state.user = payload.data\r\n  }\r\n}\r\nconst actions = {\r\n  checkoutLogin({commit},payload){\r\n    return Auth.getInfo().then(res=>{\r\n      if(res.isLogin){\r\n        commit('setUser',res);\r\n        if (payload) { route.push(payload.path)}\r\n      }else{\r\n        route.push('/login')\r\n      }\r\n\r\n    })\r\n  },\r\n  loginUser({commit},{username,password}){\r\n    return new Promise((resolve,reject)=>{\r\n      Auth.login({ username, password }).then(res => {\r\n        commit('setUser', res);\r\n        route.push('/notebooks')\r\n      }).catch(res=>{\r\n        reject(res);\r\n      });\r\n    })\r\n\r\n  },\r\n  registerUser({commit},{username,password}){\r\n    return new Promise((resolve, reject) => {\r\n      Auth.register({ username, password }).then(res => {\r\n        resolve();\r\n        commit('setUser', res);\r\n        route.push('/notebooks')\r\n      }).catch(res => {\r\n        reject(res);\r\n      })\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport default {\r\nstate,\r\ngetters,\r\nmutations,\r\nactions\r\n}\r\n\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/user.js","import Trash from '@/apis/trash'\r\nimport { Message } from 'element-ui'\r\nconst state = {\r\n  trashNotes: null,\r\n  trashNoteId: null,\r\n}\r\nconst getters = {\r\n  trashNotes: state=> state.trashNotes || [],\r\n  curTrashNote: (state,getters)=> {\r\n    if (!state.trashNoteId) return getters.trashNotes[0] || {};\r\n    return getters.trashNotes.find(note=> note.id==state.trashNoteId) || {}\r\n  }\r\n}\r\nconst mutations = {\r\n  setTrashNotes(state,payload) {\r\n    console.log(payload)\r\n    state.trashNotes = payload.data;\r\n  },\r\n  deleteTrashNote(state,payload) {\r\n    if(state.trashNoteId==null || state.trashNotes==null) state.trashNotes.shift();\r\n    state.trashNotes = state.trashNotes.filter(note=> note.id != state.trashNoteId);\r\n     state.trashNoteId = null;\r\n  },\r\n  revertNote(state,payload) {\r\n    if(state.trashNotes===null) return;\r\n    state.trashNotes.filter(note => note.id !== state.trashNoteId)\r\n  },\r\n  setTrashNoteId(state,payload) {\r\n    state.trashNoteId = payload.noteId\r\n  }\r\n\r\n\r\n}\r\nconst actions = {\r\n  getTrashNotes({state,commit}){\r\n    return Trash.getAll().then(res=>{\r\n      commit('setTrashNotes',res);\r\n      if(state.trashNotes==null || state.trashNotes[0] == null) {\r\n        Message.error('回收站为空');}\r\n    })\r\n  },\r\n  deleteTrashNote({commit},{noteId}){\r\n    return Trash.deleteNote({noteId}).then(res=>{\r\n      commit('deleteTrashNote',{noteId})\r\n      Message.success('删除成功')\r\n    })\r\n  },\r\n  revertTrashNote({ commit }, { noteId }) {\r\n    return Trash.revertNote({ noteId }).then(res => {\r\n      commit('deleteTrashNote',{noteId})\r\n      Message.success('恢复成功')\r\n    })\r\n  }\r\n}\r\nexport default {\r\nstate,\r\ngetters,\r\nmutations,\r\nactions\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/trash.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport note from './modules/notebook'\r\nimport notebook from './modules/note'\r\nimport user from './modules/user'\r\nimport trash from './modules/trash'\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  modules: {\r\n    notebook,\r\n    note,\r\n    user,\r\n    trash\r\n  }\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport store from './store'\nimport '@/assets/styles/reset.css';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nVue.use(ElementUI);\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","// 1.引入axios\r\nimport axios from 'axios';\r\nimport { resolve } from 'path';\r\n\r\n// 2.配置默认值\r\naxios.defaults.baseURL = '//note-server.hunger-valley.com';\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\naxios.defaults.withCredentials = true;\r\n\r\n// 3.封装\r\n\r\nexport default function request(url,type='GET',data={}){\r\n  return new Promise((resolve,reject)=>{\r\n    //配置参数对象\r\n    let option = {\r\n      url,\r\n      method: type,\r\n      validateStatus: function (status) {\r\n        return (status >= 200 && status < 300) || status===400;\r\n      },\r\n    };\r\n    // 对get和post请求传递的数据进行区分\r\n    if(type.toLowerCase()==='get'){\r\n      option.params = data;\r\n    }else{\r\n      option.data = data;\r\n    }\r\n    axios(option).then(res=>{\r\n      if(res.status==200){\r\n        resolve(res.data)\r\n      }else{\r\n        reject(res.data)\r\n      }\r\n    }).catch(err=>{\r\n      reject({msg:'网络异常'})\r\n    })\r\n  })\r\n\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helper/request.js","import request from '@/helper/request';\r\nimport { friendlyTime } from '@/utils/friendlyTime'\r\n\r\nconst URL = {\r\n  GET: '/notes/trash',\r\n  REVERT: '/notes/:noteId/revert',\r\n  DELETE: '/notes/:noteId/confirm'\r\n}\r\n\r\nexport default {\r\n  getAll() {\r\n    return new Promise((resolve, reject) => {\r\n      request(URL.GET).then(\r\n        res => {\r\n          res.data.sort((note1, note2) =>\r\n            note1.createdAt < note2.createdAt)\r\n          res.data.forEach(item => {\r\n            item.createdFriendlyTime = friendlyTime(item.createdAt)\r\n            item.updateFriendlyTime = friendlyTime(item.updatedAt)||'未更新'\r\n          })\r\n          resolve(res)\r\n        }\r\n      )\r\n    })\r\n  },\r\n  revertNote({ noteId }) {\r\n    return request(URL.REVERT.replace(':noteId', noteId),'PATCH')\r\n  },\r\n\r\n  deleteNote({ noteId }) {\r\n    return request(URL.DELETE.replace(':noteId', noteId), 'DELETE')\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/apis/trash.js","export function friendlyTime(dateStr){\r\n  const dateObj = typeof dateStr === 'object'?dataStr:(new Date(dateStr));\r\n  const space = Date.now() - dateObj.getTime();\r\n  let str = '';\r\n  switch(true){\r\n    case space < 60000:\r\n      str = '刚刚'\r\n      break;\r\n    case space < 3600000:\r\n      str = Math.floor(space/60000)+'分钟前';\r\n      break\r\n    case space < 3600000 * 24:\r\n      str = Math.floor(space/3600000) + '小时前';\r\n      break\r\n    case space < 3600000 * 24 * 30:\r\n      str = Math.floor(space/(3600000*24)) + '天前';\r\n      break\r\n    case space < 3600000 * 24 * 30*12:\r\n      str = Math.floor(space/(3600000*24*30)) + '月前';\r\n      break\r\n    // default: \r\n    //   str = dateObj.getFullyear()+\"年\"+dateObj.getMonth()+'月'+dateObj.getDate()+'日'\r\n  }\r\n  return str\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/friendlyTime.js"],"sourceRoot":""}